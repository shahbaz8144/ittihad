<div class="kt-portlet__head">
    <div class="kt-inbox__toolbar kt-inbox__toolbar--extended">
        <div class="kt-inbox__actions kt-inbox__actions--expanded">
            <!-- <div class="kt-inbox__search">
                <div class="input-group">
                    <input type="text" name="Search" [(ngModel)]="searchText" class="form-control" placeholder="Search">
                    <div class="input-group-append">
                        <span class="input-group-text">
                            <a>
                                <i class="fa fa-search"></i>
                                </a>
                        </span>
                    </div>
                </div>
            </div> -->
            <div id="search-grp" class="input-group">
                <div  class="input-group-prepend">
                    <span  class="input-group-text pr-0">
                        <button  type="button" role="button" id="srch-btn" data-tooltip="Search" aria-label="Search" class="srch-btns pr-0">
                            <svg focusable="false" height="24px" viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                <path 
                                    d="M20.49,19l-5.73-5.73C15.53,12.2,16,10.91,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.41,0,2.7-0.47,3.77-1.24L19,20.49L20.49,19z M5,9.5C5,7.01,7.01,5,9.5,5S14,7.01,14,9.5S11.99,14,9.5,14S5,11.99,5,9.5z">
                                </path>
                                <path  d="M0,0h24v24H0V0z" fill="none"></path>
                            </svg>
                        </button>
                    </span>
                </div>
                        <input id="txtSearch"  [(ngModel)]="searchText"  type="text"  (click)="Searchighlight()"
                    (keyup)="clearshow()" autocomplete="off" class="form-control" [placeholder]="DeleteSearch">
                    <button class="clear-icon kt-search-clr-ic" *ngIf="searchText"  (click)="clearSearch()"> <i class="fa fa-times"></i> </button>
                <div  class="input-group-append d-none">
                    <span  class="input-group-text">
                        <button  type="button" role="button"   id="clrr-btn" data-tooltip="Clear Search" aria-label="Clear Search"   class="srch-btns mr-2">
                            <svg  focusable="false" height="24px" viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                <path 
                                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">
                                </path>
                                <path  d="M0 0h24v24H0z" fill="none"></path>
                            </svg>
                        </button>
                        <button  type="button" role="button" id="filtr-btn" data-tooltip="Search options" aria-label="Advanced search options"
                            class="srch-btns">
                            <svg  xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24">
                                <path 
                                    d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z">
                                </path>
                            </svg>
                        </button>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="kt-portlet__head px-4">
    <div class="kt-inbox__toolbar kt-inbox__toolbar--extended">
        <div class="kt-inbox__actions kt-inbox__actions--expanded main-bx">
            <label class="kt-checkbox kt-checkbox--single kt-checkbox--tick kt-checkbox--brand mb-0 mr-2">
                <input type="checkbox" (change)="selectAllcheckbox()" [(ngModel)]="check" [ngModelOptions]="{standalone: true}">
                <span></span>
            </label>

            <button (click)="deletememo(0)" class="btn btn-hvr" data-toggle="kt-tooltip" data-skin="dark" id="DeleteRestore">
                <i  class="fa-sm fa fa-trash-restore pr-0 pt-1"></i>
                <span class="label-hidden">Delete</span>
            </button>

            <!-- <button (click)="deletememo1(0)" class="btn btn-hvr" data-toggle="kt-tooltip" data-skin="dark" title="Delete">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                    role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em" height="1em"
                    viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12M8 9h8v10H8V9m7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5Z">
                    </path>
                </svg>
                <span class="label-hidden">Delete</span>
            </button> -->

        </div>

        <!-- <button (click)="ClearFilters()" class="btn btn-hvr" data-toggle="kt-tooltip" data-skin="dark" title="Clear Filters">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em" height="1em"
                viewBox="0 0 24 24">
                <path fill="currentColor"
                    d="M2 12a9 9 0 0 0 9 9c2.39 0 4.68-.94 6.4-2.6l-1.5-1.5A6.706 6.706 0 0 1 11 19c-6.24 0-9.36-7.54-4.95-11.95C10.46 2.64 18 5.77 18 12h-3l4 4h.1l3.9-4h-3a9 9 0 0 0-18 0Z">
                </path>
            </svg>
            <span class="label-hidden">Reload</span>
        </button> -->
        <div class="kt-inbox__controls">
            <button (click)="ClearFilters()" class="btn btn-hvr" data-toggle="kt-tooltip" data-skin="dark" id="ReloadClearFilters">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
                    role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em" height="1em"
                    viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M2 12a9 9 0 0 0 9 9c2.39 0 4.68-.94 6.4-2.6l-1.5-1.5A6.706 6.706 0 0 1 11 19c-6.24 0-9.36-7.54-4.95-11.95C10.46 2.64 18 5.77 18 12h-3l4 4h.1l3.9-4h-3a9 9 0 0 0-18 0Z">
                    </path>
                </svg>
                <span class="label-hidden">Reload</span>
            </button>

            <div class="br-line"></div>


            <div class="kt-inbox__pages" data-toggle="kt-tooltip" data-skin="dark" id="Recordsperpage">
                <span class="kt-inbox__perpage">
                    <!-- <ng-container *ngIf="activePage==1">
                        {{activePage}} - {{_CurrentpageRecords}}
                    </ng-container>
                    <ng-container *ngIf="activePage!=1 && activePage!=LastPage">
                        {{_CurrentpageRecords * (activePage-1) + 1}} - {{_CurrentpageRecords * activePage}}
                    </ng-container>
                    <ng-container *ngIf="activePage ==LastPage">
                        {{lastPagerecords * (activePage-1) + 1}} - {{lastPagerecords * (activePage-1) +
                        _CurrentpageRecords}}
                    </ng-container>
                    of {{TotalRecords}} -->
                    {{ (activePage - 1) * _pageSize + 1 }} - 
                    {{ isLastPage() ? TotalRecords : activePage * _pageSize }}
                    <span class="en-of"> of {{TotalRecords}}</span>
                    <span class="ar-main-of" style="display: none;"><span class="of"> - </span> {{TotalRecords}}</span>
                </span>
            </div>
            <!-- <span [ngClass]="(activePage == 1)?'page-item paginationdisable':'page-item'">
                <button [ngClass]="(activePage == 1)?'paginationpointerdisable':''"
                    (click)="onClickPage(activePage - 1)" class="p-0 btn" data-toggle="kt-tooltip"
                    [disabled]="activePage==1" data-skin="dark" title="Previose page">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        aria-hidden="true" role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em"
                        height="1em" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path>
                    </svg>
                </button>
               
            </span>
            <span [ngClass]="(_CurrentpageRecords < 30)?'page-item paginationdisable':'page-item'">
                <button [ngClass]="(_CurrentpageRecords < 30)?'paginationpointerdisable':''"
                    (click)="onClickPage(activePage + 1)" class="btn p-0" data-toggle="kt-tooltip"
                    [disabled]="_CurrentpageRecords<30" data-skin="dark" title="Next page">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        aria-hidden="true" role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em"
                        height="1em" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z"></path>
                    </svg>
                </button>
              
            </span> -->
            <span class="page-item previous"> 
                <button class="p-0 btn" id="previous" (click)="previousPage()" [disabled]="activePage <= 1">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    aria-hidden="true" role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em"
                    height="1em" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path>
                </svg>
                </button>
            </span>
                <span class="page-item next"  >
                <button class="p-0 btn" id="next" (click)="nextPage()" [disabled]="activePage >= totalPages">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    aria-hidden="true" role="img" font-size="1.5rem" class="iconify iconify--mdi" width="1em"
                    height="1em" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z"></path>
                </svg>
                </button>
            </span>
        </div>
    </div>
</div>


<div class="kt-portlet__body p-0 kt-portlet__body--fit-x scroll-y">
    <div class="kt-inbox__items" data-type="inbox">
        <ng-container *ngIf="(_LstToMemos | filter : searchText) as _LstToMemos">
        <div *ngFor="let ss of _LstToMemos | filter:searchText" class="mb_1" id="mailid_{{ss.MailId}}">
            <div>
                <div class="plain_border_left_true">
                    <div data-id="MemoId_{{ss.MailId}}" data-type="inbox" [className]="ss.MailView == true ? 'kt-inbox__item py-2' : 'kt-inbox__item kt-inbox__item--unread py-2'">
                        <div class="kt-inbox__info">
                            <div class="kt-inbox__actions">
                                <label class="kt-checkbox kt-checkbox--single kt-checkbox--tick kt-checkbox--brand">
                                    <input type="checkbox" id="checkbox1"  [(ngModel)]="ss.checked" (change)="Singleselectcheckbox(ss.MailId,ss.checked)"
                                        [ngModelOptions]="{standalone: true}">
                                    <span></span>
                                </label>
                            </div>
                            <div class="kt-inbox__sender">
                                <span class="kt-media kt-media--sm kt-media--dark">
                                    <img class="rounded-circle" *ngIf="ss.UserProfile =='NA'"
                                        src="assets/media/icons/user2.png">
                                    <img class="rounded-circle" *ngIf="ss.UserProfile !='NA'"
                                        src="https://yrglobaldocuments.blob.core.windows.net/documents/{{ss.UserProfile}}">
                                </span>
                            </div>
                        </div>

                        <div (click)="gotoMemoDetailsV2('Memo/Details',ss.MailId,ss.LastReplyId)" class="kt-inbox__details">
                            <div class="kt-inbox__message flex-wrap">
                                <span class="kt-inbox__user_name">{{ss.FromUser}}
                                    <small *ngIf="(ss.Attachment)" class="attchmt">
                                        <i class="fa fa-paperclip"></i>
                                    </small>
                                    <small *ngIf="(ss.IsConfidential)" class="kt-confidential"><span class="svg-icon svg-icon-2x"><!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo1/dist/../src/media/svg/icons/Communication/Mail-locked.svg-->
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="15" height="15"/>
                                            <path d="M12.9835977,18 C12.7263047,14.0909841 9.47412135,11 5.5,11 C4.98630124,11 4.48466491,11.0516454 4,11.1500272 L4,7 C4,5.8954305 4.8954305,5 6,5 L20,5 C21.1045695,5 22,5.8954305 22,7 L22,16 C22,17.1045695 21.1045695,18 20,18 L12.9835977,18 Z M19.1444251,6.83964668 L13,10.1481833 L6.85557487,6.83964668 C6.4908718,6.6432681 6.03602525,6.77972206 5.83964668,7.14442513 C5.6432681,7.5091282 5.77972206,7.96397475 6.14442513,8.16035332 L12.6444251,11.6603533 C12.8664074,11.7798822 13.1335926,11.7798822 13.3555749,11.6603533 L19.8555749,8.16035332 C20.2202779,7.96397475 20.3567319,7.5091282 20.1603533,7.14442513 C19.9639747,6.77972206 19.5091282,6.6432681 19.1444251,6.83964668 Z" fill="#000000"/>
                                            <path d="M8,17 C8.55228475,17 9,17.4477153 9,18 L9,21 C9,21.5522847 8.55228475,22 8,22 L3,22 C2.44771525,22 2,21.5522847 2,21 L2,18 C2,17.4477153 2.44771525,17 3,17 L3,16.5 C3,15.1192881 4.11928813,14 5.5,14 C6.88071187,14 8,15.1192881 8,16.5 L8,17 Z M5.5,15 C4.67157288,15 4,15.6715729 4,16.5 L4,17 L7,17 L7,16.5 C7,15.6715729 6.32842712,15 5.5,15 Z" fill="#000000" opacity="0.9"/>
                                        </g>
                                    </svg><!--end::Svg Icon--></span> confidential </small>
                                </span>
                                <span class="kt-inbox__subject w-100">{{ ss.Title }} </span>
                                <!-- <span *ngIf="(ss.Attachment)" style="margin-right: 12px;">
                                    <i class="fa fa-paperclip"></i>
                                </span> -->
                            </div>
                            <div class="kt_inde_memo_msg" [innerHTML]="ss.Note">
                             
                            </div>
                            <!-- <div class="mt-2">
                                <span class="label label-light-primary font-weight-bold label-inline mr-1">inbox</span>
                                <span class="label label-light-danger font-weight-bold label-inline">task</span>
                            </div> -->
                            <div class="kt-inbox__labels d-none">

                                <!-- <span class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge--bold kt-badge--inline">General</span> -->
                                <ng-container *ngIf="ss.MemoType=='General'">
                                    <span class="kt-inbox__label kt-badge kt-badge--unified-info kt-badge--bold kt-badge--inline">
                                     {{ ss.MemoType }}
                                    </span>
                                </ng-container>
                                <ng-container *ngIf="ss.MemoType=='Approval'">
                                    <span class="kt-inbox__label kt-badge kt-badge--unified-success kt-badge--bold kt-badge--inline">
                                        {{ ss.MemoType }}
                                    </span>
                                </ng-container>

                                <span *ngIf="ss.Status=='Reply Required'" class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge.kt-badge-light-bold kt-badge--inline">
                                {{ss.ActualStatus}}
                                </span>
                                <span *ngIf="ss.Status=='Approval Pending'" class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge.kt-badge-light-bold kt-badge--inline">
                                        {{ss.ActualStatus}}
                                </span>
                                <span *ngIf="ss.Status=='Expired'" class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge.kt-badge-light-bold kt-badge--inline">
                                        {{ss.ActualStatus}}
                                </span>
                                <span *ngIf="ss.Status=='Request Pending'" class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge.kt-badge-light-bold kt-badge--inline">
                                        {{ss.ActualStatus}}
                                    </span>
                                <span *ngIf="ss.Status=='UnderProcess'" class="kt-inbox__label kt-badge kt-badge--unified-brand kt-badge.kt-badge-light-bold kt-badge--inline">
                                        {{ss.ActualStatus}}
                                </span>
                                <span class="kt-inbox__label kt-badge kt-badge--unified-primary kt-badge.kt-badge-light-bold kt-badge--inline">
                                {{ ss.FromUser }}
                                <!-- <ng-container *ngIf="ss.ReplyUser=='NA'">
                                {{ ss.FromUser }}
                                </ng-container>
                                <ng-container *ngIf="ss.ReplyUser!='NA'">
                                    {{ ss.ReplyUser }}
                                </ng-container> -->
                            </span>
                                <!-- <span id="i_{{ss.MailId}}" [ngClass]="(ss.IsTag==true)?'kt-inbox__label kt-badge kt-badge--unified-hideskin kt-badge.kt-badge-light-bold kt-badge--inline':'kt-inbox__label kt-badge kt-badge--unified-hideskin kt-badge.kt-badge-light-bold kt-badge--inline d-none'">
                                <i class="fa fa-tag"></i>
                                </span> -->
                                <!-- <ng-container *ngIf="ss.IsTag==true">
                                </ng-container> -->
                                <!-- <span class="btn btn-outline-primary">
                                {{ ss.MemoSource }}
                            </span> -->

                                <!-- <ng-container *ngIf="ss.Conversation>0">
                                    <span class="kt-inbox__label kt-badge kt-badge.kt-badge-light-bold kt-badge--inline" title="Chat">
                                    <i class="fa fa-comments"></i>
                                </span>
                                    <span class="kt-badge kt-badge--dark chatcount">{{ss.Conversation}}</span>
                                </ng-container> -->
                            </div>
                        </div>
                        <div class="kt-widget__details">
                            <div class="kt-section__content kt-section__content--solid">
                                <div class="kt-media-group">
                                    <ng-container *ngFor="let _icons of ss.UserIcons ; let i = index">
                                        <ng-container *ngIf="i<3">
                                            <a class="kt-media kt-media--sm kt-media--circle" data-toggle="kt-tooltip"
                                                data-skin="brand" data-placement="top" title=""
                                                data-original-title="John Myer">
                                                <ng-container *ngIf="_icons.UserHeaderThumbnail=='NA'">
                                                    <img src="https://yrglobaldocuments.blob.core.windows.net/documents/Users/user2.png"
                                                        alt="image">
                                                </ng-container>
                                                <ng-container *ngIf="_icons.UserHeaderThumbnail!='NA'">
                                                    <img src="https://yrglobaldocuments.blob.core.windows.net/documents/{{_icons.UserHeaderThumbnail}}"
                                                        alt="image">
                                                </ng-container>
                                            </a>
                                        </ng-container>
                                    </ng-container>
                                    <a *ngIf="ss.UserIcons.length > 3" class="kt-media kt-media--sm kt-media--circle"
                                        data-toggle="kt-tooltip" data-skin="brand" data-placement="top" title=""
                                        data-original-title="Micheal York">
                                        <span>{{ss.UserIcons.length - 3}}+</span>
                                    </a>
                                </div>
                            </div>
                        </div> 
                        <div (click)="gotoMemoDetailsV2('Memo/Details',ss.MailId,ss.LastReplyId)" class="kt-inbox__datetime">
                            <!-- <ng-container *ngIf="ss.ReplyUser=='NA'">
                                {{ ss.MemoDate }}
                            </ng-container>
                            <ng-container *ngIf="ss.ReplyUser!='NA'">
                                {{ ss.MemoReplyDate }}
                            </ng-container> -->

                            {{ ss.MemoDate }}
                        </div>
                        <div class="memohover memohover-sm">
                            <ng-container *ngIf="ss.MemoSource=='TO'">
                                <div class="memohover_icon">
                                    <i (click)="deletememo1(ss.MailId)" title="Restore" class="fa-1x fa fa-trash-restore"></i>
                                </div>
                            </ng-container>
                            <ng-container *ngIf="ss.MemoSource=='CC'">
                                <div class="memohover_icon">
                                    <i (click)="deletememo1(ss.MailId)" title="Restore" class="fa-1x fa fa-trash-restore"></i>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div *ngIf="_LstToMemos.length==0" class="text-center py-4" style="color: lightgrey">
            <img src="assets/media/Img/No Trash Memos.png">
             <h3 class="kt-blank-ttl">{{ "Communication.TrashEmpty" | translate  }}</h3>
             <p class="kt-blank-msg">{{ "Communication.TrashDataMessage" | translate  }}</p>
        </div>
        </ng-container>
    </div>
</div>